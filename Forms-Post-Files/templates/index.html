{% extends "base.html" %}
{% block title %}Index Page{% endblock %}

{% block content %}
<h1>Bienvenido a la Página de Inicio</h1>
<p>Esta es la página principal de mi aplicación Flask.</p>
<form method="POST" action="{{ url_for('index') }}">
    <input type="text" name="username" placeholder="Username"><br>
    <input type="password" name="password" placeholder="Password"><br>
    <input type="submit" value="Login">
</form>

<h1>Subida de Archivos</h1>
<form method="POST" action="{{ url_for('file_upload') }}" enctype="multipart/form-data">
    <input type="file" name="file"
        accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, text/plain"><br>
    <input type="submit" value="Upload">
</form>

<h1>Conversión a CSV</h1>
<form method="POST" action="{{ url_for('convert_csv') }}" enctype="multipart/form-data">
    <input type="file" name="file"
        accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"><br>
    <input type="submit" value="Upload">
</form>

<h1>Conversión a CSV Two</h1>
<form method="POST" action="{{ url_for('convert_csv_two') }}" enctype="multipart/form-data">
    <input type="file" name="file"
        accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"><br>
    <input type="submit" value="Upload">
</form>

<h1>JavaScript JSON Request</h1>
<button id="post_button">Enviar Solicitud</button>

<script type="text/javascript">
    const postButton = document.getElementById('post_button')
    const jsonData = { name: 'Franco', data: '12345' }

    postButton.addEventListener('click', () => {
        fetch('{{ url_for("handle_post")}}', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'charset': 'utf-8'
            },
            body: JSON.stringify(jsonData)
        })
            .then(response => response.json())
            .then(data => console.log('Success:', data))
            .catch((error) => {
                console.error('Error:', error);
            })
    })
</script>


{% endblock %}